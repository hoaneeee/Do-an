<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      th:replace="_layout :: html(~{::title}, ~{::style}, ~{::section})">
<head>
    <title>Đơn hàng của tôi</title>
    <style>
        .cardy{border-radius:16px;border:0;box-shadow:0 10px 34px rgba(16,24,40,.08)}
        .status{font-size:.85rem;font-weight:700;border-radius:10px;padding:.25rem .5rem}
        .st-PENDING{background:#fff3cd;color:#a67c00}
        .st-PAID{background:#d1fae5;color:#047857}
        .st-CANCELLED{background:#fee2e2;color:#991b1b}
    </style>
</head>
<body>
<section class="container">
    <h3 class="fw-bold mb-3">Đơn hàng của tôi</h3>

    <div class="alert alert-light border" th:if="${#lists.isEmpty(orders)}">
        Bạn chưa có đơn hàng nào.
    </div>

    <div class="vstack gap-3" th:if="${!#lists.isEmpty(orders)}">
        <div class="card cardy" th:each="o : ${orders}">
            <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                    <div class="fw-bold">
                        <a th:href="@{'/orders/' + ${o.code}}" th:text="${o.code}"></a>
                        <span class="ms-2 status" th:classappend="' st-' + ${o.status}" th:text="${o.status}"></span>
                    </div>
                    <div class="text-secondary small">
                        <span th:text="${#temporals.format(o.createdAt, 'HH:mm dd/MM/yyyy')}"></span>
                        • Tổng:
                        <b th:text="${#numbers.formatInteger(o.total,0)} + ' ₫'">0 ₫</b>
                    </div>
                </div>
                <div>
                    <a class="btn btn-outline-primary" th:href="@{'/orders/' + ${o.code}}">Xem chi tiết</a>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>
